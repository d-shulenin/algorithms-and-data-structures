function cashFunction(func) {
    const cash = {}
    return  function(n) {
        if(cash[n]) {
            console.log('From cash')
            return cash[n]
        }
        let result = func(n)
        console.log('New result')
        cash[n]=result
        return result
    }
}

function factorial(n) {
    if (n==0) return 1
    return n*factorial(n-1)
}

const cashFactorial = cashFunction(factorial)
